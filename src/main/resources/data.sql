CREATE INDEX HISTORY_BY_USER ON HISTORY (USER_ID);
CREATE INDEX HISTORY_BY_USER_INSTANCE ON HISTORY (USER_INSTANCE_ID);
CREATE INDEX HISTORY_BY_USER_IN_PERIOD ON HISTORY (USER_ID, LAST_UPDATED);

CREATE INDEX USER_INSTANCE_BY_USER ON USER_INSTANCE (USER_ID);
CREATE INDEX USER_INSTANCE_BY_USER_AND_STATUS ON USER_INSTANCE (USER_ID, STATUS);

CREATE INDEX USER_BY_USERNAME_AND_PASSWORD ON USER (USERNAME, PASSWORD);

INSERT INTO `OPERATING_SYSTEM` (ID, NAME) VALUES (1, 'Windows Server 2003');
INSERT INTO `OPERATING_SYSTEM` (ID, NAME) VALUES (2, 'Ubuntu 12.04');

INSERT INTO `STORAGE_TYPE` (storage_type_id, NAME) VALUES (1, 'HDD');
INSERT INTO `STORAGE_TYPE` (storage_type_id, NAME) VALUES (2, 'SSD');

INSERT INTO `USER` (ID, USERNAME, PASSWORD, EMAIL, CREDIT_CARD) VALUES (1, 'userOne', 'passOne', 'userOne@test.com', '5555555555554444');
INSERT INTO `USER` (ID, USERNAME, PASSWORD, EMAIL, CREDIT_CARD) VALUES (2, 'userTwo', 'passTwo', 'userTwo@test.com', '5105105105105100');
INSERT INTO `USER` (ID, USERNAME, PASSWORD, EMAIL, CREDIT_CARD) VALUES (3, 'userThree', 'passThree', 'userThree@test.com', '4111111111111111');

INSERT INTO `PLAN` (ID, NAME, PRICE_PER_CPU, PRICE_PER_MEMORY, PRICE_PER_STORAGE) VALUES (1, 'Basic', 0.004000, 0.006000, 0.000200);

INSERT INTO `PLAN_STORAGE_TYPE` (PLAN_STORAGE_ID, storage_type_id, WEIGHT) VALUES (1, 1, 1.0);
INSERT INTO `PLAN_STORAGE_TYPE` (PLAN_STORAGE_ID, storage_type_id, WEIGHT) VALUES (2, 2, 3.0);

INSERT INTO `PLAN_PLAN_STORAGE_TYPE` (PLAN_ID, PLAN_STORAGE_TYPE_PLAN_STORAGE_ID) VALUES (1, 1);
INSERT INTO `PLAN_PLAN_STORAGE_TYPE` (PLAN_ID, PLAN_STORAGE_TYPE_PLAN_STORAGE_ID) VALUES (1, 2);

INSERT INTO `INSTANCE` (ID, NAME, CPU, MEMORY, STORAGE, PLAN_ID, storage_type_storage_type_id) VALUES (1, 'small', 1, 2, 40, 1, 1);
INSERT INTO `INSTANCE` (ID, NAME, CPU, MEMORY, STORAGE, PLAN_ID, storage_type_storage_type_id) VALUES (2, 'medium', 2, 4, 100, 1, 1);
INSERT INTO `INSTANCE` (ID, NAME, CPU, MEMORY, STORAGE, PLAN_ID, storage_type_storage_type_id) VALUES (3, 'large', 2, 8, 250, 1, 2);

INSERT INTO `USER_INSTANCE` (ID, INSTANCE_UNIQUE_NAME, STATUS, INSTANCE_ID, OPERATING_SYSTEM_ID, USER_ID) VALUES (1, 'fad46ee9-e5a0-43af-b576-d49202a06d88', 'OFF', 1, 2, 1);
INSERT INTO `USER_INSTANCE` (ID, INSTANCE_UNIQUE_NAME, STATUS, INSTANCE_ID, OPERATING_SYSTEM_ID, USER_ID) VALUES (2, 'a1cdacff-aede-4107-8ed9-25e1356b96b4', 'OFF', 3, 1, 1);
INSERT INTO `USER_INSTANCE` (ID, INSTANCE_UNIQUE_NAME, STATUS, INSTANCE_ID, OPERATING_SYSTEM_ID, USER_ID) VALUES (3, '18fdddca-6151-43b3-8fe8-c670437e63b2', 'OFF', 2, 1, 1);
INSERT INTO `USER_INSTANCE` (ID, INSTANCE_UNIQUE_NAME, STATUS, INSTANCE_ID, OPERATING_SYSTEM_ID, USER_ID) VALUES (4, '66d837cd-b712-4022-a29f-d8f079d3728c', 'OFF', 2, 2, 1);
INSERT INTO `USER_INSTANCE` (ID, INSTANCE_UNIQUE_NAME, STATUS, INSTANCE_ID, OPERATING_SYSTEM_ID, USER_ID) VALUES (5, '034a2197-69d7-4369-944b-a8803f448756', 'OFF', 1, 1, 2);
INSERT INTO `USER_INSTANCE` (ID, INSTANCE_UNIQUE_NAME, STATUS, INSTANCE_ID, OPERATING_SYSTEM_ID, USER_ID) VALUES (6, '65cbf26f-6541-4d57-87db-d7ef5067e72a', 'OFF', 1, 2, 2);

INSERT INTO `HISTORY` (ID, USER_ID, USER_INSTANCE_ID, LAST_UPDATED, OPERATION) VALUES (1, 1, 1, '2016-12-06 12:00:00.00', 'TURN_ON');
INSERT INTO `HISTORY` (ID, USER_ID, USER_INSTANCE_ID, LAST_UPDATED, OPERATION) VALUES (2, 1, 1, '2016-12-06 13:00:00.00', 'TURN_OFF');
INSERT INTO `HISTORY` (ID, USER_ID, USER_INSTANCE_ID, LAST_UPDATED, OPERATION) VALUES (3, 1, 1, '2016-12-07 12:00:00.00', 'TURN_ON');
INSERT INTO `HISTORY` (ID, USER_ID, USER_INSTANCE_ID, LAST_UPDATED, OPERATION) VALUES (4, 1, 1, '2016-12-08 12:00:00.00', 'TURN_OFF');
INSERT INTO `HISTORY` (ID, USER_ID, USER_INSTANCE_ID, LAST_UPDATED, OPERATION) VALUES (5, 2, 5, '2016-12-07 12:00:00.00', 'TURN_ON');
INSERT INTO `HISTORY` (ID, USER_ID, USER_INSTANCE_ID, LAST_UPDATED, OPERATION) VALUES (6, 2, 5, '2016-12-07 13:01:00.00', 'TURN_OFF');
